# TypeScript 缘起

在过去的十年里，我一直从事前端开发工作，亲自见证了 Atwood 定律，那就是：“任何能用 JavaScript 实现的应用，最终都会用 JavaScript 实现。”如今，从移动终端到后端服务，从 IoT 到神经网络，它几乎无处不在。如此广阔的应用领域，自然对语言的安全性、健壮性和可维护性有更高的要求。

尽管 ECMAScript 标准在近几年有了长足的进步，但在类型检查方面依然无所建树。你是否经常遇到这样的场景：

## 场景一

你调用一个别人写的函数，但是很不幸，这个家伙没有留下任何注释，为了搞清楚参数类型，你只能硬着头皮去看里面的逻辑。

## 场景二

为了保证代码的健壮性，你很有责任心，对一个函数的输入参数进行各种假设，最终给老板盛上了一碗香喷喷的意大利面。

## 场景三

领导看好你，让你维护一个重要的底层类库，你殚精竭虑，优化了一个参数类型，但不知道有多少处引用，在提交代码前，是否感到脊背发凉？

## 场景四

明明定义好了接口，可一联调就报错了：“TypeError: Cannot read property ‘length’ of undefined”，于是你怒气冲冲地去找后端理论：“嘿，哥们儿！这个字段是数组！这个字段是数组！这个字段是数组！”

## 场景总结

以上情况归根结底，是因为 JavaScript 是一门动态弱类型语言，对变量的类型非常宽容，而且不会在这些变量和它们的调用者间建立结构化的契约。如果你长期在没有类型约束的环境下开发，就会造成“类型思维”的缺失，养成不良的编程习惯，这也是做前端开发的短板之一，值得我们警醒。

# 什么是 TypeScript

那么，什么是 TypeScript，根据官方的定义，它是拥有类型系统的 JavaScript 的超集，可以编译成纯 JavaScript。这里，你要注意三个要点：

## 第一，类型检查

TypeScript 会在编译代码时进行严格的静态类型检查，这意味着你可以在编码阶段发现可能存在的隐患，而不必把它们带到线上。

## 第二，语言扩展

TypeScript 会包括来自 ECMAScript 6 和未来提案中的特性，比如异步操作和装饰器；也会从其他语言借鉴某些特性，比如接口和抽象类。

## 第三，工具属性

TypeScript 能够编译成标准的 JavaScript，可以在任何浏览器、操作系统上运行，无需任何运行时的额外开销。从这个角度上讲，TypeScript 更像是一个工具，而不是一门独立的语言。

# 为什么要使用 TypeScript

使用 TypeScript 还能带来其他好处。比如，Visual Studio Code 具有强大的自动补全、导航和重构功能，这使得接口定义可以直接代替文档，同时也提高了开发效率，降低了维护成本。更重要的是，TypeScript 可以帮助团队重塑“类型思维”，接口提供方将被迫去思考 API 的边界，他们将从代码的编写者蜕变为代码的设计者。

如果说 JavaScript 是一匹野马，那么 TypeScript 就是束缚这匹野马的缰绳。作为骑士的你，自然可以张开双臂，放飞自我，但如果不是技艺超群，恐怕会摔得很惨。然而如果抓住了缰绳，你即可闲庭信步，亦可策马扬鞭。这就是 TypeScript 的价值，它会让你在前端开发之路上走得更稳，走得更远。
